# Работа со слоями

Система слоёв позволяет работать с разными элементами изображения независимо друг от друга. Это даёт гибкость в редактировании и возможность создавать сложные композиции.

## Концепция слоёв

Представьте слои как стопку прозрачных плёнок, наложенных друг на друга. Каждый слой содержит свои элементы, и вы можете редактировать их по отдельности, не затрагивая остальные.

**Преимущества работы со слоями:**
- Неразрушающее редактирование — исходное изображение остаётся нетронутым
- Возможность отменить изменения на отдельном слое
- Комбинирование элементов из разных источников
- Эксперименты с эффектами без риска испортить работу

## Панель слоёв

Панель слоёв расположена в правой части интерфейса и содержит:

- **Список слоёв** — все слои документа с миниатюрами
- **Активный слой** — выделен подсветкой, все операции применяются к нему
- **Иконки управления** — видимость, блокировка, связывание
- **Кнопки действий** — создание, удаление, группировка

## Основные операции

### Создание слоя

**Новый пустой слой:**
- Нажмите кнопку «+» на панели слоёв
- Или используйте Ctrl+Shift+N
- Или меню «Слой» → «Новый слой»

**Дублирование слоя:**
- Ctrl+J — дублировать активный слой
- Или перетащите слой на кнопку «+»
- Или правый клик → «Дублировать слой»

### Удаление слоя

- Выберите слой и нажмите Delete
- Или перетащите слой на иконку корзины
- Или правый клик → «Удалить слой»

### Изменение порядка

Перетаскивайте слои вверх или вниз в списке. Слои, расположенные выше, перекрывают нижние.

### Выбор нескольких слоёв

- Ctrl + клик — добавить слой к выделению
- Shift + клик — выделить диапазон слоёв

## Свойства слоя

### Видимость

Иконка глаза слева от миниатюры. Нажмите, чтобы скрыть или показать слой. Скрытые слои не отображаются на холсте и не экспортируются.

### Блокировка

Защищает слой от случайных изменений:
- **Блокировка прозрачности** — нельзя рисовать на прозрачных областях
- **Блокировка позиции** — нельзя перемещать слой
- **Полная блокировка** — слой полностью защищён от изменений

### Прозрачность (Opacity)

Общая прозрачность слоя от 0% (полностью прозрачный) до 100% (полностью непрозрачный). Влияет на все элементы слоя.

### Заливка (Fill)

Похожа на прозрачность, но не влияет на эффекты слоя. Полезно при использовании стилей слоя.

## Режимы наложения

Режим наложения определяет, как пиксели слоя взаимодействуют с нижележащими слоями.

**Основные режимы:**

| Режим | Эффект |
|-------|--------|
| Нормальный | Стандартное наложение |
| Умножение | Затемнение, белый становится прозрачным |
| Экран | Осветление, чёрный становится прозрачным |
| Перекрытие | Увеличение контраста |
| Мягкий свет | Мягкое осветление/затемнение |
| Жёсткий свет | Сильное осветление/затемнение |
| Разница | Инвертирование цветов |
| Цветность | Применяет цвет, сохраняя яркость |

## Группировка слоёв

Группы помогают организовать слои и применять общие настройки.

**Создание группы:**
- Выделите слои и нажмите Ctrl+G
- Или перетащите слои на иконку папки
- Или меню «Слой» → «Сгруппировать слои»

**Преимущества групп:**
- Общая прозрачность и режим наложения для всех слоёв группы
- Удобная организация сложных проектов
- Возможность сворачивать группы для экономии места

## Объединение слоёв

### Объединить с нижним (Ctrl+E)

Объединяет активный слой со слоем, расположенным непосредственно под ним.

### Объединить видимые (Ctrl+Shift+E)

Объединяет все видимые слои в один, сохраняя скрытые слои отдельно.

### Сведение изображения

Объединяет все слои в один фоновый слой. Используйте перед финальным экспортом, если не планируете дальнейшее редактирование.

## Маски слоя

Маски позволяют скрывать части слоя без их удаления.

**Создание маски:**
1. Выберите слой
2. Нажмите кнопку «Добавить маску» на панели слоёв
3. Рисуйте на маске: чёрный скрывает, белый показывает

**Преимущества масок:**
- Неразрушающее скрытие — можно вернуть скрытые области
- Плавные переходы с помощью градиентов
- Точный контроль видимости

## Советы по работе со слоями

- Называйте слои понятными именами (двойной клик на названии)
- Группируйте связанные слои
- Используйте цветовую маркировку для быстрой навигации
- Регулярно объединяйте завершённые элементы для экономии памяти
- Сохраняйте рабочий файл со слоями отдельно от финального экспорта
